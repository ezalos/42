{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/toConsumableArray","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/objectSpread","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n\n  var _toConsumableArray2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/toConsumableArray\"));\n\n  var _objectSpread2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/objectSpread\"));\n\n  var initialState = {\n    favoritesFilm: []\n  };\n\n  function toggleFavorite() {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n    var action = arguments.length > 1 ? arguments[1] : undefined;\n    var nextState;\n\n    switch (action.type) {\n      case 'TOGGLE_FAVORITE':\n        var favoriteFilmIndex = state.favoritesFilm.findIndex(function (item) {\n          return item.id === action.value.id;\n        });\n\n        if (favoriteFilmIndex !== -1) {\n          nextState = (0, _objectSpread2.default)({}, state, {\n            favoritesFilm: state.favoritesFilm.filter(function (item, index) {\n              return index !== favoriteFilmIndex;\n            })\n          });\n        } else {\n          nextState = (0, _objectSpread2.default)({}, state, {\n            favoritesFilm: [].concat((0, _toConsumableArray2.default)(state.favoritesFilm), [action.value])\n          });\n        }\n\n        return nextState || state;\n\n      default:\n        return state;\n    }\n  }\n\n  var _default = toggleFavorite;\n  exports.default = _default;\n});","map":[[13,0,15,0],[13,6,15,6,"initialState"],[13,18,15,18],[13,21,15,21],[14,0,15,23,"favoritesFilm"],[14,4,15,23,"favoritesFilm"],[14,17,15,36],[14,19,15,38],[15,0,15,21],[15,3,15,0],[17,0,17,0],[17,11,17,9,"toggleFavorite"],[17,25,17,0],[17,28,17,54],[18,0,17,54],[18,8,17,24,"state"],[18,13,17,54],[18,84,17,32,"initialState"],[18,96,17,54],[19,0,17,54],[19,8,17,46,"action"],[19,14,17,54],[20,0,18,2],[20,8,18,6,"nextState"],[20,17,18,2],[22,0,19,2],[22,12,19,10,"action"],[22,18,19,16],[22,19,19,17,"type"],[22,23,19,2],[23,0,20,4],[23,11,20,9],[23,28,20,4],[24,0,21,6],[24,12,21,12,"favoriteFilmIndex"],[24,29,21,29],[24,32,21,32,"state"],[24,37,21,37],[24,38,21,38,"favoritesFilm"],[24,51,21,32],[24,52,21,52,"findIndex"],[24,61,21,32],[24,62,21,62],[24,72,21,62,"item"],[24,76,21,66],[25,0,21,66],[25,17,21,70,"item"],[25,21,21,74],[25,22,21,75,"id"],[25,24,21,70],[25,29,21,82,"action"],[25,35,21,88],[25,36,21,89,"value"],[25,41,21,82],[25,42,21,95,"id"],[25,44,21,66],[26,0,21,66],[26,9,21,32],[26,10,21,6],[28,0,22,6],[28,12,22,10,"favoriteFilmIndex"],[28,29,22,27],[28,34,22,32],[28,35,22,33],[28,36,22,6],[28,38,22,36],[29,0,24,8,"nextState"],[29,10,24,8,"nextState"],[29,19,24,17],[29,54,25,13,"state"],[29,59,24,17],[30,0,26,10,"favoritesFilm"],[30,12,26,10,"favoritesFilm"],[30,25,26,23],[30,27,26,25,"state"],[30,32,26,30],[30,33,26,31,"favoritesFilm"],[30,46,26,25],[30,47,26,45,"filter"],[30,53,26,25],[30,54,26,53],[30,64,26,54,"item"],[30,68,26,53],[30,70,26,60,"index"],[30,75,26,53],[31,0,26,53],[31,21,26,70,"index"],[31,26,26,75],[31,31,26,80,"favoriteFilmIndex"],[31,48,26,53],[32,0,26,53],[32,13,26,25],[33,0,24,17],[33,12,24,8],[34,0,28,7],[34,9,22,6],[34,15,29,11],[35,0,31,8,"nextState"],[35,10,31,8,"nextState"],[35,19,31,17],[35,54,32,13,"state"],[35,59,31,17],[36,0,33,10,"favoritesFilm"],[36,12,33,10,"favoritesFilm"],[36,25,33,23],[36,70,33,29,"state"],[36,75,33,34],[36,76,33,35,"favoritesFilm"],[36,89,33,23],[36,93,33,50,"action"],[36,99,33,56],[36,100,33,57,"value"],[36,105,33,23],[37,0,31,17],[37,12,31,8],[38,0,35,7],[40,0,36,6],[40,15,36,13,"nextState"],[40,24,36,22],[40,28,36,26,"state"],[40,33,36,6],[42,0,37,2],[43,0,38,4],[43,15,38,11,"state"],[43,20,38,4],[44,0,19,2],[45,0,40,1],[47,17,42,15,"toggleFavorite"],[47,31]]},"type":"js/module"}]}